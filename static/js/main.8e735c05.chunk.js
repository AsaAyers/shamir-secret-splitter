(this["webpackJsonpshamir-secret-splitter"]=this["webpackJsonpshamir-secret-splitter"]||[]).push([[0],{134:function(e){e.exports=JSON.parse('{"name":"shamir-secret-splitter","version":"0.1.0","private":true,"homepage":"https://AsaAyers.github.io/shamir-secret-splitter","repository":"https://github.com/AsaAyers/shamir-secret-splitter","dependencies":{"@material-ui/core":"^4.8.2","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.4.0","@testing-library/user-event":"^7.2.1","@types/jest":"^24.0.25","@types/node":"^12.12.22","@types/react":"^16.9.17","@types/react-dom":"^16.9.4","gh-pages":"^2.1.1","pgp-word-list":"0.0.1","qrcode.react":"^1.0.0","react":"^16.12.0","react-dom":"^16.12.0","react-qr-reader":"^2.2.1","react-router-dom":"^5.1.2","react-scripts":"3.3.0","shamir":"^0.7.1","typeface-roboto":"0.0.75","typescript":"^3.7.4"},"scripts":{"predeploy":"npm run build","deploy":"gh-pages -d build","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/qrcode.react":"^1.0.0","@types/react-qr-reader":"^2.1.2","@types/react-router-dom":"^5.1.3","text-encoder":"0.0.4"}}')},140:function(e,t,a){e.exports={page:"styles_page__2ydav"}},145:function(e,t,a){e.exports={nav:"styles_nav__2cd2r",printTab:"styles_printTab__1Y1BP"}},152:function(e,t,a){e.exports=a(254)},157:function(e,t,a){},170:function(e,t){},172:function(e,t){},206:function(e,t){},207:function(e,t){},254:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),l=a(10),c=a.n(l),s=(a(157),a(36)),u=a(291),i=a(292),m=a(142),p=a(285),d=a(286),f=a(289),h=a(134),b=10,v=2;!function(e){e.Edit="/",e.Print="/print",e.Assemble="/assemble"}(n||(n={}));var y=a(6),g=a(17),E=a(293),w=a(287),x=a(288),P=a(25),j=a(137),O=a.n(j),S=a(255),q=a(28),N=a(58);var C={hex:"",text:"",error:null};function k(e,t){var a=Object(N.b)(t);if("string"!==typeof a){var n=t.split(/\s+/g);n.pop(),a=Object(N.b)(n.join(" "))}return"string"==typeof a?{hex:a,text:t,error:null}:Object(q.a)({},e,{text:t,error:"".concat(a.word," not recognized")})}function A(e){var t,a=e.part,n=e.onChange,r=e.index,l=function(){var e=o.a.useMemo((function(){return Math.random().toString(16).substr(2)}),[]);return function(t){return t+"-"+e}}(),c=null!==(t=null===a||void 0===a?void 0:a.hex)&&void 0!==t?t:"",s=o.a.useReducer(k,C,(function(e){var t=Object(N.a)(c).join(" ");return"string"===typeof t?Object(q.a)({},e,{text:t}):e})),u=Object(g.a)(s,2),i=u[0],m=u[1];return o.a.createElement(E.a,{onChange:function(e){if(n){var t=e.target.value;m(t);var a=Object(N.b)(t);"string"===typeof a&&a!==c&&n(r,a)}},multiline:!0,id:l("part-".concat(r)),error:null!=i.error,helperText:i.error,value:i.text,name:"label",label:"Part ".concat(r)})}var _=a(140),R=a.n(_);function I(e){var t=e.part,a=e.children,r=Object(s.f)(),l=window.location.protocol+"//"+window.location.host+r.createHref({pathname:n.Assemble});return o.a.createElement(S.a,{className:R.a.page},o.a.createElement("h1",null,t.label),o.a.createElement("h2",null,t.index," of ",t.numParts),a,o.a.createElement("strong",null,l),o.a.createElement("p",null,"If the QR code doesn't scan, you can go to the URL above and type in the following into the textbox for ",o.a.createElement("strong",null,"Part ",t.index),":"),o.a.createElement(A,{part:t,index:t.index}))}var D=a(67),L=a(89),Q=a.n(L);function B(){var e=Object(s.g)();return o.a.useMemo((function(){if(!e.state)return null;var t=Number(e.state.numParts||0),a=Number(e.state.quorum||0);return!t||!a||a>=t?null:{label:e.state.label||"",text:e.state.text||"",numParts:t,quorum:a}}),[e.state])}function T(){var e=Object(s.f)(),t=B(),a=function(e){return o.a.useMemo((function(){if(null!=e)return Object(D.b)(e)}),[e])}(t);return o.a.useEffect((function(){null!=a&&null!=t&&t.label&&t.text&&t.numParts&&t.quorum||e.push(n.Edit,t)}),[e,a,t]),null==a||null==t?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{className:Q.a.noPrint},o.a.createElement(d.a,null,o.a.createElement("p",null,"Thew following pages contain your secret. Print them and distribute them to different locations. From the Assemble Secret page, if you scan any ",t.quorum," of these codes, it will display your secret.")),o.a.createElement(w.a,null,o.a.createElement(P.b,{to:{pathname:n.Edit,state:t}},o.a.createElement(x.a,{variant:"outlined"},"Edit")),o.a.createElement(x.a,{onClick:function(){return window.print()},variant:"outlined"},"Print"))),a.map((function(t){var a=new URLSearchParams;a.set("index",String(t.index)),a.set("hex",t.hex),a.set("numParts",String(t.numParts)),a.set("quorum",String(t.quorum)),a.set("label",String(t.label));var r={pathname:n.Assemble,search:a.toString()},l=window.location.protocol+"//"+window.location.host+e.createHref(r);return o.a.createElement(I,{part:t,key:t.index},o.a.createElement(P.b,{to:r},o.a.createElement(O.a,{className:Q.a.qr,renderAs:"svg",size:512,value:l})))})))}var U=Object(m.a)({title:{fontSize:14},content:{display:"flex",flexDirection:"column"}}),F={label:"",text:"",numParts:4,quorum:3};function J(){for(var e=U(),t=Object(s.f)(),a=B()||F,r=o.a.useState(a),l=Object(g.a)(r,2),c=l[0],u=l[1],i=function(e){var t=Object(y.a)({},e.target.name,e.target.value);u((function(e){return Object.assign({},e,t)}))},m=[],h=[],P=1;P<=b;P++)P>=v&&m.push(P),P<c.numParts&&h.push(P);return o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.push(n.Print,c)}},o.a.createElement(p.a,null,o.a.createElement(d.a,{className:e.content},o.a.createElement(f.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Create Secret"),o.a.createElement(E.a,{onChange:i,value:c.label,id:"label",name:"label",label:"Label"}),o.a.createElement(E.a,{multiline:!0,label:"Secret Text",id:"secret-text",onChange:i,value:c.text,name:"text"}),o.a.createElement(E.a,{name:"quorum",select:!0,SelectProps:{native:!0},id:"quorum","data-testid":"quorum",label:"quorum",value:c.quorum,onChange:i},h.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement(E.a,{name:"numParts",select:!0,label:"Parts",id:"parts",SelectProps:{native:!0},"data-testid":"parts",value:c.numParts,onChange:i},m.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement("p",null,"In order to reassemble your secret, you will need ",c.quorum," out of ",c.numParts," pieces. Your label will be printed at the top of each page.")),o.a.createElement(w.a,null,o.a.createElement(x.a,{type:"submit",color:"primary",variant:"outlined"},"Done"))))}var M=a(143),Y=a.n(M),z=a(295),W=Object(m.a)({cardContent:{display:"flex",flexDirection:"column"}});function H(e){return null!=e}var V=function(e){};function G(e,t){switch(t.type){case"setNumParts":return Object(q.a)({},e,{numParts:t.payload,parts:{}});case"setPart":var a=t.payload,n="numParts"in a?a.numParts:e.numParts,r=e.parts;return n!==e.numParts&&(r={}),""===a.hex.trim()?(delete(r=Object(q.a)({},r))[a.index],Object(q.a)({},e,{parts:r,numParts:n})):Object(q.a)({},e,{parts:Object(q.a)({},r,Object(y.a)({},a.index,a)),numParts:n});default:V(t)}return e}var X={numParts:4,parts:{}};function $(e){var t=Number(e.get("index")),a=e.get("hex"),n=Number(e.get("numParts")),r=e.get("label"),o=Number(e.get("quorum"));return!isNaN(t)&&t>0&&a&&!isNaN(n)&&n>0&&!isNaN(o)&&o>0&&null!=r?{index:t,hex:a,label:r,numParts:n,quorum:o}:null}function K(e){var t=$(new URLSearchParams(Object(s.g)().search));o.a.useEffect((function(){null!=t&&e(t)}),[e,t])}function Z(){var e=W(),t=Object(s.f)(),a=o.a.useState(!1),r=Object(g.a)(a,2),l=r[0],c=r[1],u=o.a.useState(null),i=Object(g.a)(u,2),m=i[0],f=i[1],h=function(e,t){var a=o.a.useState((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.error(n),t}})),n=Object(g.a)(a,2),r=n[0],l=n[1];return[r,function(t){try{var a=t instanceof Function?t(r):t;l(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.error(n)}}]}("state",X),y=Object(g.a)(h,2),P=y[0],j=y[1],O=o.a.useReducer(G,P),S=Object(g.a)(O,2),N=S[0],C=S[1];o.a.useEffect((function(){P!==N&&j(N)}),[j,N,P]),K(o.a.useCallback((function(e){C({type:"setPart",payload:e}),t.replace(n.Assemble)}),[t]));var k=N.numParts,_=N.parts,R=function(e,t){var a,n=null!==(a=_[e])&&void 0!==a?a:{index:e,hex:""};C({type:"setPart",payload:Object(q.a)({},n,{hex:t})})},I=o.a.useCallback((function(e){e&&e.preventDefault();try{var t=Object(D.a)(Object.values(_));f(t)}catch(e){console.error(e)}}),[_]);o.a.useEffect((function(){var e=Object.values(N.parts).filter(H),t=e.every((function(t){return"label"in t&&"label"in e[0]&&t.label===e[0].label&&t.numParts===e[0].numParts&&t.quorum===e[0].quorum}));e[0]&&"quorum"in e[0]&&e.length===e[0].quorum&&t&&I()}),[I,N.parts]);for(var L=new Array(b-v).fill(0).map((function(e,t){return o.a.createElement(z.a,{key:t,value:t+v},t+v)})),Q=[],B=1;B<=k;B++)Q.push(o.a.createElement(A,{key:"".concat(B,"/").concat(k),index:B,part:_[B],onChange:R}));return m?o.a.createElement(p.a,null,o.a.createElement(d.a,null,m)):o.a.createElement("form",{onSubmit:I},o.a.createElement(p.a,null,o.a.createElement(d.a,{className:e.cardContent},l?o.a.createElement(o.a.Fragment,null,o.a.createElement(Y.a,{delay:500,onError:function(e){console.error(e)},onScan:function(e){if(e)try{var t=$(new URL(e).searchParams);null!=t&&C({type:"setPart",payload:t})}catch(a){}}}),o.a.createElement(x.a,{variant:"outlined",onClick:function(){return c(!1)}},"Stop Scanning")):o.a.createElement(x.a,{variant:"outlined",onClick:function(){return c(!0)}},"Scan QR Codes"),o.a.createElement("br",null),o.a.createElement(E.a,{name:"numParts",select:!0,label:"Parts",value:k,onChange:function(e){C({type:"setNumParts",payload:Number(e.target.value)})}},L),Q),o.a.createElement(w.a,null,o.a.createElement(x.a,{type:"submit",color:"primary",variant:"outlined"},"Done"))))}var ee=a(294),te=a(290),ae=a(145),ne=a.n(ae);function re(){var e=Object(s.g)(),t=Object(s.f)(),a=n.Edit;switch(e.pathname){case n.Assemble:a=n.Assemble;break;case n.Edit:case n.Print:default:a=n.Edit}return o.a.createElement("nav",{className:ne.a.nav},o.a.createElement(ee.a,{value:a,onChange:function(e,a){t.push(a)}},o.a.createElement(te.a,{value:n.Edit,label:"New Secret"}),o.a.createElement(te.a,{value:n.Assemble,label:"Assemble Secret"})))}var oe=Object(m.a)({home:{margin:"1em 0"}});function le(){var e=oe();return o.a.createElement(p.a,{className:e.home},o.a.createElement(d.a,null,o.a.createElement(f.a,{component:"h1"},"Experimental"),o.a.createElement("p",null,"This project is still experimental and may continue to change. I cannot guarantee that pages printed today will continue to scan in the future."),o.a.createElement(f.a,{component:"h1"},"Overview"),o.a.createElement("p",null,"Say you have an important password to backup in case you ever forget it. Maybe you use a password manager for most passwords, but how do you backup your password for your password manager? You don\u2019t want to just write it down because anyone who finds it will have your password."),o.a.createElement("p",null,"Using the Shamir Secret Splitter you can split your password into pices and store them in different places. You might decide to split it into 4 pages and any set of 3 can be used to assemble the password."),o.a.createElement("p",null,"Each page contains a QR code with a link back to this site. No special software is needed, just point your phone's camera at the page and follow the link. From the limited testing I\u2019ve done, it seems like QR code scanners are built into the default camera apps on Android and iOS. When the camera finds a QR code you should get some kind of notification asking if you want to open the link in your browser. If it doesn\u2019t work, you may need to go change a setting to turn on QR code scanning."),o.a.createElement("p",null,'When you arrive on the "Assemble Secret" page it has a Scan QR Codes button that you can use to scan the remaining pages. But what if you can\'t scan a QR code? Every page also has a series of words that contain the same piece of your secret as the QR code. If you need to, you can simply type those into the "Assemble Secret" page.'),o.a.createElement("p",null,"For additional details view the project on ",o.a.createElement("a",{href:h.repository,target:"_blank",rel:"noopener noreferrer"},"GitHub"))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(P.a,{basename:"/shamir-secret-splitter"},o.a.createElement((function(){return o.a.createElement(u.a,{maxWidth:"sm"},o.a.createElement(i.a,null),o.a.createElement(re,null),o.a.createElement(s.c,null,o.a.createElement(s.a,{path:n.Print},o.a.createElement(T,null)),o.a.createElement(s.a,{path:n.Assemble},o.a.createElement(Z,null)),o.a.createElement(s.a,{path:n.Edit},o.a.createElement(le,null),o.a.createElement(J,null))))}),null)),document.getElementById("root"))},58:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var n,r=a(17),o=a(68);function l(t){for(var a=e.from(t.toLowerCase().replace(/[^0-9a-f]+/g,""),"hex"),n=[],r=0;r<a.length;r++){var l=a[r];n.push(o[l][r%2])}return n}function c(t){if(null==n){n=[{},{}];for(var a=0;a<o.length;a++){var l=Object(r.a)(o[a],2),c=l[0],s=l[1];n[0][c.toLowerCase()]=a,n[1][s.toLowerCase()]=a}}var u=t.trim().toLowerCase().split(/\s+/g);if(0===t.trim().length)return"";for(var i=[],m=0;m<u.length;m++){var p=u[m],d=n[m%2][p];if(null==d)return{type:"INVALID_WORD",word:p};i.push(d)}return e.from(i).toString("hex").toUpperCase()}}).call(this,a(14).Buffer)},67:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a(17),r=a(88),o=a(141);function l(t){var a=(new TextEncoder).encode(t.text),l=r.split(o.randomBytes,t.numParts,t.quorum,a);return Object.entries(l).map((function(a){var r=Object(n.a)(a,2),o=r[0],l=r[1];return{label:t.label,numParts:t.numParts,quorum:t.quorum,index:Number(o),hex:e.from(l).toString("hex")}}))}function c(t){var a=t.reduce((function(t,a){return t[a.index]=Uint8Array.from(e.from(a.hex,"hex")),t}),{}),n=new TextDecoder,o=r.join(a);return n.decode(o)}}).call(this,a(14).Buffer)},89:function(e,t,a){e.exports={print:"styles_print__X66sV",qr:"styles_qr__3rz3I",noPrint:"styles_noPrint__2Y233"}}},[[152,1,2]]]);
//# sourceMappingURL=main.8e735c05.chunk.js.map